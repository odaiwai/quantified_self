{"vars":[{"containerName":"","line":1,"name":"strict","kind":2},{"kind":2,"line":2,"containerName":"","name":"warnings"},{"kind":2,"line":3,"name":"DBI","containerName":""},{"line":4,"name":"Dumper","containerName":"Data","kind":2},{"defintion":"my","localvar":"my","kind":13,"containerName":null,"name":"$verbose","line":6},{"kind":13,"line":7,"name":"$firstrun","containerName":null,"defintion":"my","localvar":"my"},{"localvar":"my","defintion":"my","name":"$basedir","containerName":null,"line":8,"kind":13},{"localvar":"my","defintion":"my","name":"$filename","containerName":null,"line":9,"kind":13},{"kind":13,"containerName":null,"name":"$system","line":10,"localvar":"my","defintion":"my"},{"kind":13,"line":11,"name":"$system","containerName":null},{"kind":13,"line":12,"containerName":null,"name":"%system"},{"line":13,"name":"$filename","containerName":null,"kind":13},{"name":"%system","line":14,"containerName":null,"kind":13},{"line":15,"name":"%filename","containerName":null,"kind":13},{"localvar":"my","defintion":"my","kind":13,"line":19,"containerName":null,"name":"$outfilename"},{"localvar":"my","defintion":"my","kind":13,"containerName":null,"line":21,"name":"$db"},{"line":21,"name":"DBI","kind":12},{"kind":12,"line":21,"name":"connect","containerName":"main::"},{"name":"DBI","line":21,"containerName":"errstr","kind":12},{"line":23,"containerName":null,"name":"%firstrun","kind":13},{"defintion":"my","localvar":"my","kind":13,"name":"$result","containerName":null,"line":24},{"kind":12,"line":24,"name":"make_db"},{"name":"$db","line":29,"containerName":null,"kind":13},{"line":29,"name":"disconnect","containerName":"main::","kind":12},{"defintion":"sub","range":{"end":{"character":9999,"line":36},"start":{"character":0,"line":32}},"children":[{"kind":13,"name":"$verbose","line":33,"containerName":"make_db"},{"line":34,"containerName":"make_db","name":"$db","kind":13},{"kind":13,"name":"$db","line":35,"containerName":"make_db"}],"kind":12,"containerName":"main::","line":32,"name":"make_db"},{"kind":12,"line":34,"name":"drop_all_tables"},{"kind":12,"name":"build_tables_from_file","line":35},{"defintion":"sub","range":{"start":{"line":37,"character":0},"end":{"character":9999,"line":55}},"children":[{"localvar":"my","defintion":"my","containerName":"drop_all_tables","name":"$db","line":39,"kind":13},{"kind":13,"line":40,"name":"$prefix","containerName":"drop_all_tables","localvar":"my","defintion":"my"},{"kind":13,"name":"@tables","containerName":"drop_all_tables","line":42,"defintion":"my","localvar":"my"},{"localvar":"my","defintion":"my","name":"$query","containerName":"drop_all_tables","line":43,"kind":13},{"line":43,"containerName":"drop_all_tables","name":"$db","kind":13},{"defintion":"my","localvar":"my","kind":13,"containerName":"drop_all_tables","name":"@row","line":46},{"line":46,"name":"$query","containerName":"drop_all_tables","kind":13},{"kind":12,"line":46,"name":"fetchrow_array","containerName":"drop_all_tables"},{"kind":13,"line":47,"name":"@tables","containerName":"drop_all_tables"},{"kind":13,"line":47,"name":"$row","containerName":"drop_all_tables"},{"name":"$db","line":49,"containerName":"drop_all_tables","kind":13},{"defintion":"my","localvar":"my","kind":13,"name":"$table","line":50,"containerName":"drop_all_tables"},{"kind":13,"name":"@tables","line":50,"containerName":"drop_all_tables"},{"containerName":"drop_all_tables","line":51,"name":"$db","kind":13},{"line":53,"containerName":"drop_all_tables","name":"$db","kind":13}],"kind":12,"line":37,"name":"drop_all_tables","containerName":"main::"},{"kind":12,"name":"querydb","line":43},{"kind":12,"line":49,"name":"dbdo"},{"kind":12,"line":51,"name":"dbdo"},{"kind":12,"name":"dbdo","line":53},{"children":[{"kind":13,"name":"$db","containerName":"build_tables_from_file","line":57,"defintion":"my","localvar":"my"},{"line":58,"name":"$filename","containerName":"build_tables_from_file","kind":13,"localvar":"my","defintion":"my"},{"kind":13,"containerName":"build_tables_from_file","line":59,"name":"$outfilename","defintion":"my","localvar":"my"},{"defintion":"my","localvar":"my","kind":13,"line":61,"containerName":"build_tables_from_file","name":"$fh"},{"defintion":"my","localvar":"my","line":62,"containerName":"build_tables_from_file","name":"$outfh","kind":13},{"containerName":"build_tables_from_file","name":"$tablename","line":65,"kind":13,"defintion":"my","localvar":"my"},{"localvar":"my","defintion":"my","name":"$tabledef","containerName":"build_tables_from_file","line":66,"kind":13},{"kind":13,"line":67,"name":"$tabledef","containerName":"build_tables_from_file"},{"containerName":"build_tables_from_file","line":68,"name":"$tabledef","kind":13},{"kind":13,"line":69,"containerName":"build_tables_from_file","name":"$tabledef"},{"kind":13,"line":70,"name":"$tabledef","containerName":"build_tables_from_file"},{"localvar":"my","defintion":"my","kind":13,"line":71,"containerName":"build_tables_from_file","name":"$command"},{"name":"$result","containerName":"build_tables_from_file","line":72,"kind":13,"localvar":"my","defintion":"my"},{"line":72,"name":"$db","containerName":"build_tables_from_file","kind":13},{"kind":13,"line":72,"name":"$command","containerName":"build_tables_from_file"},{"line":72,"containerName":"build_tables_from_file","name":"$verbose","kind":13},{"kind":13,"name":"$db","line":73,"containerName":"build_tables_from_file"},{"name":"$verbose","line":73,"containerName":"build_tables_from_file","kind":13},{"localvar":"my","defintion":"my","kind":13,"name":"$numrecords","line":74,"containerName":"build_tables_from_file"},{"defintion":"my","localvar":"my","kind":13,"name":"$line","containerName":"build_tables_from_file","line":76},{"kind":13,"line":76,"name":"$fh","containerName":"build_tables_from_file"},{"kind":13,"name":"$line","line":77,"containerName":"build_tables_from_file"},{"containerName":"build_tables_from_file","line":79,"name":"$line","kind":13},{"localvar":"my","defintion":"my","kind":13,"line":80,"containerName":"build_tables_from_file","name":"@data"},{"name":"$line","line":80,"containerName":"build_tables_from_file","kind":13},{"localvar":"my","defintion":"my","containerName":"build_tables_from_file","line":81,"name":"$keys","kind":13},{"name":"$tableheader","containerName":"build_tables_from_file","line":82,"kind":13,"localvar":"my","defintion":"my"},{"defintion":"my","localvar":"my","kind":13,"containerName":"build_tables_from_file","line":83,"name":"$valueline"},{"localvar":"my","defintion":"my","kind":13,"line":84,"containerName":"build_tables_from_file","name":"$values"},{"localvar":"my","defintion":"my","name":"$kvpair","containerName":"build_tables_from_file","line":86,"kind":13},{"kind":13,"name":"@data","line":86,"containerName":"build_tables_from_file"},{"kind":13,"containerName":"build_tables_from_file","name":"$key","line":87,"defintion":"my","localvar":"my"},{"kind":13,"line":87,"name":"$value","containerName":"build_tables_from_file"},{"kind":13,"containerName":"build_tables_from_file","line":87,"name":"$kvpair"},{"kind":13,"containerName":"build_tables_from_file","line":88,"name":"$clean_key","localvar":"my","defintion":"my"},{"name":"$key","line":88,"containerName":"build_tables_from_file","kind":13},{"name":"$clean_value","line":89,"containerName":"build_tables_from_file","kind":13,"localvar":"my","defintion":"my"},{"kind":13,"line":89,"name":"$value","containerName":"build_tables_from_file"},{"name":"$keys","line":90,"containerName":"build_tables_from_file","kind":13},{"kind":13,"line":91,"containerName":"build_tables_from_file","name":"$tableheader"},{"kind":13,"name":"$clean_key","line":92,"containerName":"build_tables_from_file"},{"kind":13,"containerName":"build_tables_from_file","line":93,"name":"$timestamp","defintion":"my","localvar":"my"},{"kind":13,"line":93,"name":"$clean_value","containerName":"build_tables_from_file"},{"name":"$values","line":94,"containerName":"build_tables_from_file","kind":13},{"name":"$values","line":96,"containerName":"build_tables_from_file","kind":13},{"kind":13,"containerName":"build_tables_from_file","line":98,"name":"$valueline"},{"line":102,"containerName":"build_tables_from_file","name":"$keys","kind":13},{"kind":13,"name":"$values","line":103,"containerName":"build_tables_from_file"},{"kind":13,"line":104,"containerName":"build_tables_from_file","name":"$tableheader"},{"name":"$valueline","line":105,"containerName":"build_tables_from_file","kind":13},{"containerName":"build_tables_from_file","line":106,"name":"$command","kind":13},{"kind":13,"line":107,"name":"$verbose","containerName":"build_tables_from_file"},{"containerName":"build_tables_from_file","line":108,"name":"$outfh","kind":13},{"line":108,"name":"$numrecords","containerName":"build_tables_from_file","kind":13},{"line":109,"name":"$outfh","containerName":"build_tables_from_file","kind":13},{"defintion":"my","localvar":"my","kind":13,"line":110,"name":"$result","containerName":"build_tables_from_file"},{"kind":13,"line":110,"containerName":"build_tables_from_file","name":"$db"},{"line":110,"containerName":"build_tables_from_file","name":"$command","kind":13},{"name":"$verbose","line":110,"containerName":"build_tables_from_file","kind":13},{"kind":13,"line":111,"containerName":"build_tables_from_file","name":"$result"},{"kind":13,"name":"$numrecords","line":111,"containerName":"build_tables_from_file"},{"kind":13,"name":"$db","line":114,"containerName":"build_tables_from_file"},{"containerName":"build_tables_from_file","line":114,"name":"$verbose","kind":13},{"kind":13,"name":"$fh","line":115,"containerName":"build_tables_from_file"},{"containerName":"build_tables_from_file","line":116,"name":"$outfh","kind":13}],"defintion":"sub","range":{"start":{"line":56,"character":0},"end":{"line":117,"character":9999}},"name":"build_tables_from_file","containerName":"main::","line":56,"kind":12},{"kind":12,"line":72,"name":"dbdo"},{"line":73,"name":"dbdo","kind":12},{"kind":12,"line":85,"name":"data"},{"kind":12,"line":88,"name":"normalise_key"},{"name":"normalise_value","line":89,"kind":12},{"kind":12,"name":"timestamp_from_date","line":93},{"kind":12,"line":110,"name":"dbdo"},{"name":"dbdo","line":114,"kind":12},{"kind":12,"name":"normalise_value","containerName":"main::","line":118,"defintion":"sub","range":{"end":{"line":126,"character":9999},"start":{"character":0,"line":118}},"children":[{"defintion":"my","localvar":"my","containerName":"normalise_value","line":119,"name":"$input","kind":13},{"line":120,"containerName":"normalise_value","name":"$input","kind":13},{"kind":13,"containerName":"normalise_value","line":121,"name":"$input"},{"kind":13,"containerName":"normalise_value","line":122,"name":"$input"},{"kind":13,"name":"$input","line":123,"containerName":"normalise_value"},{"containerName":"normalise_value","line":124,"name":"$input","kind":13},{"containerName":"normalise_value","line":124,"name":"$input","kind":13},{"kind":13,"containerName":"normalise_value","line":125,"name":"$input"}]},{"children":[{"name":"$input","containerName":"normalise_key","line":129,"kind":13,"localvar":"my","defintion":"my"},{"kind":13,"line":130,"containerName":"normalise_key","name":"$input"},{"line":131,"containerName":"normalise_key","name":"$input","kind":13},{"kind":13,"containerName":"normalise_key","line":132,"name":"$input"},{"name":"$input","line":133,"containerName":"normalise_key","kind":13},{"containerName":"normalise_key","line":134,"name":"$input","kind":13},{"containerName":"normalise_key","line":135,"name":"$input","kind":13}],"defintion":"sub","range":{"start":{"line":128,"character":0},"end":{"line":136,"character":9999}},"name":"normalise_key","containerName":"main::","line":128,"kind":12},{"name":"dbdo","containerName":"main::","line":138,"kind":12,"children":[{"defintion":"my","localvar":"my","line":139,"name":"$db","containerName":"dbdo","kind":13},{"kind":13,"name":"$command","line":140,"containerName":"dbdo","defintion":"my","localvar":"my"},{"localvar":"my","defintion":"my","kind":13,"containerName":"dbdo","name":"$verbose","line":141},{"kind":13,"line":142,"name":"$command","containerName":"dbdo"},{"containerName":"dbdo","line":145,"name":"$command","kind":13},{"kind":13,"line":145,"containerName":"dbdo","name":"$verbose"},{"defintion":"my","localvar":"my","name":"$result","line":146,"containerName":"dbdo","kind":13},{"containerName":"dbdo","line":146,"name":"$db","kind":13},{"kind":12,"line":146,"name":"do","containerName":"dbdo"},{"containerName":"dbdo","line":146,"name":"$command","kind":13},{"line":146,"name":"$db","containerName":"dbdo","kind":13},{"name":"errstr","line":146,"containerName":"dbdo","kind":12},{"line":147,"name":"$result","containerName":"dbdo","kind":13}],"defintion":"sub","range":{"start":{"line":138,"character":0},"end":{"line":148,"character":9999}}},{"range":{"start":{"character":0,"line":149},"end":{"line":158,"character":9999}},"defintion":"sub","children":[{"defintion":"my","localvar":"my","containerName":"querydb","name":"$db","line":151,"kind":13},{"kind":13,"line":152,"containerName":"querydb","name":"$command","localvar":"my","defintion":"my"},{"localvar":"my","defintion":"my","kind":13,"name":"$verbose","line":153,"containerName":"querydb"},{"kind":13,"name":"$verbose","line":154,"containerName":"querydb"},{"kind":13,"line":155,"containerName":"querydb","name":"$query","localvar":"my","defintion":"my"},{"kind":13,"line":155,"containerName":"querydb","name":"$db"},{"kind":12,"line":155,"containerName":"querydb","name":"prepare"},{"line":155,"name":"$command","containerName":"querydb","kind":13},{"line":155,"containerName":"querydb","name":"$db","kind":13},{"kind":12,"name":"errstr","line":155,"containerName":"querydb"},{"line":156,"name":"$query","containerName":"querydb","kind":13},{"kind":12,"name":"execute","line":156,"containerName":"querydb"},{"name":"$query","line":156,"containerName":"querydb","kind":13},{"kind":12,"name":"errstr","line":156,"containerName":"querydb"},{"kind":13,"line":157,"name":"$query","containerName":"querydb"}],"kind":12,"name":"querydb","containerName":"main::","line":149},{"kind":12,"name":"sanitise_line_for_input","line":159,"containerName":"main::","children":[{"kind":13,"line":164,"name":"$line","containerName":"sanitise_line_for_input","defintion":"my","localvar":"my"},{"containerName":"sanitise_line_for_input","line":165,"name":"$cleanline","kind":13,"defintion":"my","localvar":"my"},{"kind":13,"containerName":"sanitise_line_for_input","name":"$index","line":166,"localvar":"my","defintion":"my"},{"kind":13,"line":168,"containerName":"sanitise_line_for_input","name":"$line"},{"kind":13,"name":"$line","line":170,"containerName":"sanitise_line_for_input"},{"name":"@fields","containerName":"sanitise_line_for_input","line":172,"kind":13,"localvar":"my","defintion":"my"},{"line":172,"name":"$line","containerName":"sanitise_line_for_input","kind":13},{"name":"$field","line":173,"containerName":"sanitise_line_for_input","kind":13,"defintion":"my","localvar":"my"},{"kind":13,"line":173,"name":"@fields","containerName":"sanitise_line_for_input"},{"kind":13,"containerName":"sanitise_line_for_input","name":"$type","line":174,"localvar":"my","defintion":"my"},{"line":174,"name":"$field","containerName":"sanitise_line_for_input","kind":13},{"line":175,"name":"$type","containerName":"sanitise_line_for_input","kind":13},{"containerName":"sanitise_line_for_input","line":176,"name":"$cleanline","kind":13},{"kind":13,"name":"$cleanline","line":178,"containerName":"sanitise_line_for_input"},{"line":180,"name":"$index","containerName":"sanitise_line_for_input","kind":13},{"line":181,"containerName":"sanitise_line_for_input","name":"$cleanline","kind":13},{"kind":13,"name":"$index","line":183,"containerName":"sanitise_line_for_input"},{"line":186,"containerName":"sanitise_line_for_input","name":"$cleanline","kind":13}],"defintion":"sub","range":{"start":{"character":0,"line":159},"end":{"line":187,"character":9999}}},{"kind":12,"name":"type_from_data","line":174},{"line":180,"name":"fields","kind":12},{"line":188,"name":"tabledef_from_headerline","containerName":"main::","kind":12,"defintion":"sub","range":{"end":{"character":9999,"line":214},"start":{"character":0,"line":188}},"children":[{"localvar":"my","defintion":"my","kind":13,"line":190,"name":"$headerline","containerName":"tabledef_from_headerline"},{"line":191,"name":"$firstline","containerName":"tabledef_from_headerline","kind":13,"defintion":"my","localvar":"my"},{"containerName":"tabledef_from_headerline","line":192,"name":"$values","kind":13,"localvar":"my","defintion":"my"},{"kind":13,"containerName":"tabledef_from_headerline","line":192,"name":"$firstline"},{"defintion":"my","localvar":"my","kind":13,"containerName":"tabledef_from_headerline","name":"@headers","line":193},{"containerName":"tabledef_from_headerline","line":193,"name":"$headerline","kind":13},{"localvar":"my","defintion":"my","line":194,"containerName":"tabledef_from_headerline","name":"@first","kind":13},{"name":"$values","line":194,"containerName":"tabledef_from_headerline","kind":13},{"localvar":"my","defintion":"my","containerName":"tabledef_from_headerline","line":195,"name":"$dbstructure","kind":13},{"kind":13,"name":"$fieldnames","line":195,"containerName":"tabledef_from_headerline"},{"containerName":"tabledef_from_headerline","line":196,"name":"$index","kind":13,"localvar":"my","defintion":"my"},{"kind":13,"name":"$header","containerName":"tabledef_from_headerline","line":198,"localvar":"my","defintion":"my"},{"line":198,"name":"$headers","containerName":"tabledef_from_headerline","kind":13},{"name":"$index","line":198,"containerName":"tabledef_from_headerline","kind":13},{"kind":13,"containerName":"tabledef_from_headerline","line":199,"name":"$header"},{"line":200,"name":"$header","containerName":"tabledef_from_headerline","kind":13},{"defintion":"my","localvar":"my","kind":13,"line":201,"name":"$field","containerName":"tabledef_from_headerline"},{"name":"$first","line":201,"containerName":"tabledef_from_headerline","kind":13},{"kind":13,"line":201,"name":"$index","containerName":"tabledef_from_headerline"},{"kind":13,"containerName":"tabledef_from_headerline","line":203,"name":"$verbose"},{"localvar":"my","defintion":"my","kind":13,"containerName":"tabledef_from_headerline","name":"$type","line":204},{"name":"$field","line":204,"containerName":"tabledef_from_headerline","kind":13},{"name":"$verbose","line":205,"containerName":"tabledef_from_headerline","kind":13},{"line":206,"containerName":"tabledef_from_headerline","name":"$verbose","kind":13},{"kind":13,"line":207,"name":"$dbstructure","containerName":"tabledef_from_headerline"},{"name":"$fieldnames","line":208,"containerName":"tabledef_from_headerline","kind":13},{"containerName":"tabledef_from_headerline","line":209,"name":"$index","kind":13},{"kind":13,"name":"$dbstructure","line":209,"containerName":"tabledef_from_headerline"},{"line":210,"containerName":"tabledef_from_headerline","name":"$index","kind":13},{"containerName":"tabledef_from_headerline","line":210,"name":"$dbstructure","kind":13},{"kind":13,"line":211,"containerName":"tabledef_from_headerline","name":"$index"},{"kind":13,"line":211,"name":"$fieldnames","containerName":"tabledef_from_headerline"},{"kind":13,"name":"$dbstructure","line":213,"containerName":"tabledef_from_headerline"},{"line":213,"name":"$fieldnames","containerName":"tabledef_from_headerline","kind":13}]},{"kind":12,"name":"headers","line":196},{"kind":12,"line":204,"name":"type_from_data"},{"line":210,"name":"headers","kind":12},{"kind":12,"line":211,"name":"headers"},{"kind":12,"name":"type_from_data","line":216,"containerName":"main::","children":[{"localvar":"my","defintion":"my","kind":13,"name":"$field","line":218,"containerName":"type_from_data"},{"containerName":"type_from_data","name":"$type","line":219,"kind":13,"defintion":"my","localvar":"my"},{"defintion":"my","localvar":"my","kind":13,"line":220,"containerName":"type_from_data","name":"$has_text"},{"containerName":"type_from_data","name":"$has_nums","line":221,"kind":13,"localvar":"my","defintion":"my"},{"defintion":"my","localvar":"my","containerName":"type_from_data","line":222,"name":"$has_decs","kind":13},{"line":224,"name":"$field","containerName":"type_from_data","kind":13},{"line":224,"containerName":"type_from_data","name":"$has_text","kind":13},{"containerName":"type_from_data","line":225,"name":"$field","kind":13},{"line":225,"name":"$has_text","containerName":"type_from_data","kind":13},{"line":226,"containerName":"type_from_data","name":"$field","kind":13},{"name":"$has_nums","line":226,"containerName":"type_from_data","kind":13},{"line":227,"containerName":"type_from_data","name":"$field","kind":13},{"containerName":"type_from_data","line":227,"name":"$has_decs","kind":13},{"line":228,"name":"$has_text","containerName":"type_from_data","kind":13},{"line":229,"containerName":"type_from_data","name":"$type","kind":13},{"line":230,"name":"$has_decs","containerName":"type_from_data","kind":13},{"line":231,"name":"$type","containerName":"type_from_data","kind":13},{"name":"$type","line":233,"containerName":"type_from_data","kind":13},{"line":235,"containerName":"type_from_data","name":"$type","kind":13}],"defintion":"sub","range":{"start":{"character":0,"line":216},"end":{"character":9999,"line":236}}},{"children":[{"containerName":"timestamp_from_date","name":"$date","line":239,"kind":13,"localvar":"my","defintion":"my"},{"name":"$month","containerName":"timestamp_from_date","line":240,"kind":13,"localvar":"my","defintion":"my"},{"kind":13,"line":240,"containerName":"timestamp_from_date","name":"$day"},{"kind":13,"containerName":"timestamp_from_date","line":240,"name":"$year"},{"kind":13,"containerName":"timestamp_from_date","line":240,"name":"$date"},{"line":241,"name":"$day","containerName":"timestamp_from_date","kind":13},{"kind":13,"name":"%months","containerName":"timestamp_from_date","line":242,"defintion":"my","localvar":"my"},{"defintion":"my","localvar":"my","kind":13,"containerName":"timestamp_from_date","line":246,"name":"$timestamp"},{"kind":13,"line":246,"name":"$months","containerName":"timestamp_from_date"},{"line":246,"containerName":"timestamp_from_date","name":"$month","kind":13},{"kind":13,"name":"$day","line":246,"containerName":"timestamp_from_date"},{"kind":13,"name":"$timestamp","line":247,"containerName":"timestamp_from_date"}],"range":{"end":{"line":248,"character":9999},"start":{"character":0,"line":237}},"defintion":"sub","kind":12,"containerName":"main::","name":"timestamp_from_date","line":237}],"version":4}